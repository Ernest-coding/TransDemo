<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="" name="keywords">
    <meta content="" name="author">
    <meta content="" name="robots">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="后台人员管理" name="description">

    <!-- PAGE TITLE HERE -->
    <title>后台人员管理</title>

    <!-- Datatable -->
    <link rel="stylesheet" th:href="@{/css/chartist.min.css}">
    <link rel="stylesheet" th:href="@{/css/nice-select.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap-datetimepicker.min.css}">
    <!-- Style css -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/jquery.dataTables.min.css}">
    <!-- Custom Stylesheet -->


</head>

<body>

<!--**********************************
    Main wrapper start
***********************************-->
<div id="main-wrapper">

    <!--**********************************
        Nav header start
    ***********************************-->
    <div class="nav-header">
        <a class="brand-logo" th:href="@{/backIndex}">
            <img alt="logo " class="img-thumbnail logoImg" style="width: 70%; height: auto" id="logo-4" src="assets/image/logo-4.png">
        </a>
        <div class="nav-control">
            <div class="hamburger">
                <span class="line"></span><span class="line"></span><span class="line"></span>
            </div>
        </div>
    </div>
    <!--**********************************
        Nav header end
    ***********************************-->

    <!--**********************************
            Header start
        ***********************************-->
    <div class="header">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class=" navbar-nav header-right alert alert-primary alert-dismissible fade show"
                     style="height:60%; margin-top: 5mm">
                    <svg class="me-2" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                         stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                        <line x1="9" x2="9.01" y1="9" y2="9"></line>
                        <line x1="15" x2="15.01" y1="9" y2="9"></line>
                    </svg>
                    <strong>欢迎使用 xx 公司后台管理</strong>
                </div>
            </nav>
        </div>
    </div>
    <!--**********************************
        Header end ti-comment-alt
    ***********************************-->

    <!--**********************************
        Sidebar start
    ***********************************-->
    <div class="deznav">
        <div class="deznav-scroll">
            <ul class="metismenu" id="menu">
                <li><a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">
                    <i class="flaticon-013-checkmark"></i>
                    <span class="nav-text">用户管理</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/user/allMan}">后台人员</a></li>
                        <li><a th:href="@{/user/allCus}">客户</a></li>
                    </ul>

                </li>
                <!--                <li><a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">-->
                <!--                    <i class="flaticon-025-dashboard"></i>-->
                <!--                    <span class="nav-text">运单管理</span>-->
                <!--                </a>-->
                <!--                    <ul aria-expanded="false">-->
                <!--                        <li><a th:href="@{/addOrder}">添加运单</a></li>-->
                <!--                        <li><a th:href="@{/allOrder}">运单列表</a></li>-->
                <!--                    </ul>-->
                <!--                </li>-->
                <li><a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">
                    <i class="flaticon-025-dashboard"></i>
                    <span class="nav-text">运输工具管理</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/coy/allCoy}">运输工具列表页</a></li>
                        <li><a th:href="@{/coy/oneCoy}">运输工具详情页</a></li>
                    </ul>
                </li>

                </li>
                <li><a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">
                    <i class="flaticon-025-dashboard"></i>
                    <span class="nav-text">运单管理</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/addOrder}">添加运单</a></li>
                        <li><a th:href="@{/allOrder}">运单列表</a></li>
                    </ul>
                </li>
                <!--留出来富余   后面再看-->
                <!--<li>
                    <a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">
                    <i class="flaticon-086-star"></i>
                    <span class="nav-text">日程管理</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/man/addSche}">批量添加日程</a></li>
                        <li><a th:href="@{/man/viewSche}">查看日程</a></li>
                        <li><a aria-expanded="false" class="has-arrow" href="javascript:void(0)">教室日程管理</a>
                            <ul aria-expanded="false">
                                <li><a th:href="@{/man/classScheRoom}">按教室管理日程</a></li>
                                <li><a th:href="@{/man/classScheTime}">按时间管理日程</a></li>
                            </ul>
                        </li>
                        <li><a aria-expanded="false" class="has-arrow" href="javascript:void(0)">会议室日程管理</a>
                            <ul aria-expanded="false">
                                <li><a th:href="@{/man/meetScheRoom}">按会议室管理日程</a></li>
                                <li><a th:href="@{/man/meetScheTime}">按时间管理日程</a></li>
                            </ul>
                        </li>
                        <li><a aria-expanded="false" class="has-arrow" href="javascript:void(0)">实验室日程管理</a>
                            <ul aria-expanded="false">
                                <li><a th:href="@{/man/labScheRoom}">按实验室管理日程</a></li>
                                <li><a th:href="@{/man/labScheTime}">按时间管理日程</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">
                    <i class="flaticon-043-menu"></i>
                    <span class="nav-text">用户管理</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/man/allManager}">管理员一览</a></li>
                        <li><a th:href="@{/man/userSet}">用户管理</a></li>
                        <li><a th:href="@{/man/addUser}">新增用户</a></li>

                    </ul>
                </li>

                <li>
                    <a aria-expanded="false" class="has-arrow ai-icon" th:href="@{#}">
                    <i class="flaticon-086-star"></i>
                    <span class="nav-text">个人资料</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/man/user/profile}">个人信息</a></li>
                    </ul>
                </li>-->
            </ul>

        </div>
    </div>
    <!--**********************************
        Sidebar end
    ***********************************-->



    <!--**********************************
        Content body start
    ***********************************-->
    <div class="content-body">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">后台人员列表</h4>
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-rounded btn-primary" data-bs-toggle="modal"
                                    data-bs-target="#exampleModalpopover">
                                <span class="btn-icon-start text-primary"><i class="fa fa-plus color-info"></i>
                                    </span>添加
                            </button>
                            <!-- Modal -->
                            <div class="modal fade" id="exampleModalpopover">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title">添加用户</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal">
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form method="post" th:action="@{/user/addMan}">
                                                <div class="mb-3">
                                                    <label class="mb-1"><strong>账号</strong></label>
                                                    <input class="form-control" name="act" placeholder="请输入账号"
                                                           type="text">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="mb-1"><strong>密码</strong></label>
                                                    <input class="form-control" name="pwd"
                                                           placeholder="请输入密码" type="text">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="mb-1"><strong>姓名</strong></label>
                                                    <input class="form-control" name="name"
                                                           placeholder="请输入姓名" type="text">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="mb-1"><strong>手机号</strong></label>
                                                    <input class="form-control" name="phone"
                                                           placeholder="请输入手机号" type="text">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="mb-1"><strong>身份</strong></label>
                                                    <select name="type" class="form-control wide mb-3">
                                                        <option selected="selected" value="1">管理员</option>
                                                        <option value="2">客户</option>
                                                    </select>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-danger light"
                                                            data-bs-dismiss="modal">
                                                        取消
                                                    </button>
                                                    <button type="submit" class="btn btn-primary">添加</button>
                                                </div>
                                            </form>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="display" id="example4" style="min-width: 845px">

                                    <thead>
                                    <tr>
                                        <th class="align-middle text-center">序号</th>
                                        <th class="align-middle text-center">姓名</th>
                                        <th class="align-middle text-center">联系方式</th>
                                        <th class="align-middle text-center">身份</th>
                                        <th class="align-middle text-center">更新时间</th>
                                        <th class="no-sort text-center">操作</th>
                                    </tr>
                                    </thead>

                                    <tbody>
                                    <tr th:each="info : ${userList}">
                                        <td class="py-2 text-center" th:text="${infoStat.count}">#</td>
                                        <td class="py-2 text-center">
                                            <input class="form-control" th:id="'name' + ${info.manId}" placeholder=""
                                                   th:value="${info.manName}" type="text">
                                        </td>
                                        <td class="py-2 text-center">
                                            <input class="form-control" th:id="'phone' + ${info.manId}" placeholder=""
                                                   th:value="${info.manPhone}" type="text">
                                        </td>
                                        <td class="py-2 text-center"
                                            th:text="(${info.manType} == 1) ? '管理员' : '操作员'">
                                            <span class="badge light badge-outline-primary">#</span>
                                        </td>
                                        <td class="py-2 text-center" th:text="${info.updTime}">#</td>
                                        <!--<td class=py-2 text-center><span class="badge light badge-danger">否</span></td>-->
                                        <td class="py-2 text-center">
                                            <div class="dropdown text-sans-serif">
                                                <button aria-expanded="false" aria-haspopup="true"
                                                        class="btn btn-primary tp-btn-light sharp"
                                                        data-boundary="viewport"
                                                        data-bs-toggle="dropdown" type="button">
															<span>
																<svg height="18px"
                                                                     version="1.1" viewbox="0 0 24 24" width="18px"
                                                                     xmlns="http://www.w3.org/2000/svg">
																<g fill="none" fill-rule="evenodd" stroke="none"
                                                                   stroke-width="1">
																	<rect height="24" width="24" x="0" y="0"></rect>
																	<circle cx="5" cy="12" fill="#000000"
                                                                            r="2"></circle>
																	<circle cx="12" cy="12" fill="#000000"
                                                                            r="2"></circle>
																	<circle cx="19" cy="12" fill="#000000"
                                                                            r="2"></circle>
																</g>
															</svg>
															</span>
                                                </button>
                                                <div aria-labelledby="order-dropdown-0"
                                                     class="dropdown-menu dropdown-menu-end border py-0">
                                                    <div class="py-2">
                                                        <a class="dropdown-item" href=""
                                                           th:onclick="'subSetName(2, ' + ${info.manId} + ', $(\'\#name'+ ${info.manId} +'\').val());'">修改姓名</a>
                                                        <a class="dropdown-item" href=""
                                                           th:onclick="'subSetPhone(2, ' + ${info.manId} + ', $(\'\#phone'+ ${info.manId} +'\').val());'">修改手机号</a>
                                                        <div class="dropdown-divider"></div>
                                                        <a class="dropdown-item text-danger"
                                                           th:href="@{'/user/setInfo?type=1&info=null&op=0&id=' + ${info.manId}}">删除</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!--备份   后台用-->
            <!--<div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">用户列表</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="display" id="example4" style="min-width: 845px">
                                    <thead>
                                    <tr>
                                        <th class="align-middle text-center">序号</th>
                                        <th class="align-middle text-center">学工号</th>
                                        <th class="align-middle text-center">姓名</th>
                                        <th class="align-middle text-center">手机</th>
                                        <th class="align-middle text-center">身份</th>
                                        <th class="align-middle text-center">是否可用</th>
                                        <th class="align-middle text-center">违规次数</th>
                                        <th class="align-middle text-center">学院</th>
                                        <th class="no-sort text-center">操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="info : ${users}">
                                        <td class="py-2 text-center" th:text="${infoStat.count}">#</td>
                                        <td class="py-2 text-center" th:text="${info.userAct}">#</td>
                                        <td class="py-2 text-center" th:text="${info.userName}">#</td>
                                        <td class="py-2 text-center" th:text="${info.userPhone}">#</td>
                                        <td class="py-2 text-center"><span th:class="${info.typeTheme}"
                                                                           th:text="${info.typeMsg}">#</span></td>
                                        <td class="py-2 text-center"><span th:class="${info.statusTheme}"
                                                                           th:text="${info.statusMsg}">#</span></td>
                                        &lt;!&ndash;                                        <td class=py-2 text-center><span class="badge light badge-success">启用</span></td>&ndash;&gt;
                                        <td class="py-2 text-center"><span th:class="${info.illeTheme}"
                                                                           th:text="${info.illeMsg}">#</span></td>
                                        <td class="py-2 text-center" th:text="${info.depaName}">#</td>
                                        <td class=py-2 text-center>
                                            <div class="dropdown text-sans-serif">
                                                <button aria-expanded="false" aria-haspopup="true"
                                                        class="btn btn-primary tp-btn-light sharp"
                                                        data-boundary="viewport"
                                                        data-bs-toggle="dropdown" type="button">
															<span>
																<svg height="18px"
                                                                     version="1.1" viewbox="0 0 24 24" width="18px"
                                                                     xmlns="http://www.w3.org/2000/svg">
																<g fill="none" fill-rule="evenodd" stroke="none"
                                                                   stroke-width="1">
																	<rect height="24" width="24" x="0" y="0"></rect>
																	<circle cx="5" cy="12" fill="#000000"
                                                                            r="2"></circle>
																	<circle cx="12" cy="12" fill="#000000"
                                                                            r="2"></circle>
																	<circle cx="19" cy="12" fill="#000000"
                                                                            r="2"></circle>
																</g>
															</svg>
															</span>
                                                </button>
                                                <div aria-labelledby="order-dropdown-0"
                                                     class="dropdown-menu dropdown-menu-end border py-0">
                                                    <div class="py-2">
                                                        <a class="dropdown-item"
                                                           th:href="@{'/man/user/userOp?idNum=' + ${info.userId} +'&op=2'}">禁用</a>
                                                        <a class="dropdown-item"
                                                           th:href="@{'/man/user/userOp?idNum=' + ${info.userId} +'&op=1'}">启用</a>
                                                        <a class="dropdown-item"
                                                           th:href="@{'/man/user/userOp?idNum=' + ${info.userId} +'&op=3'}">清除违规</a>
                                                        <div class="dropdown-divider"></div>
                                                        <a class="dropdown-item text-danger"
                                                           th:href="@{'/man/user/userOp?idNum=' + ${info.userId} +'&op=5'}">删除</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </div>-->
        </div>
    </div>
    <!--**********************************
        Content body end
    ***********************************-->


    <!--**********************************
        Footer start
    ***********************************-->
    <div class="footer">
        <div class="copyright">
            <p>Copyright &copy; 2022. Ernest </p>
        </div>
    </div>
    <!--**********************************
        Footer end
    ***********************************-->


</div>
<!--**********************************
    Main wrapper end
***********************************-->

<!--**********************************
    Scripts
***********************************-->
<!-- Required vendors -->
<script th:src="@{/js/global.min.js}"></script>
<script th:src="@{/js/Chart.bundle.min.js}"></script>
<script th:src="@{/js/jquery-3.5.1.js}"></script>
<script th:src="@{/js/proj/setUserInfo.js}"></script>

<!-- Apex Chart -->
<script th:src="@{/js/apexchart.js}"></script>
<script th:src="@{/js/jquery.peity.min.js}"></script>
<script th:src="@{/js/moment.js}"></script>
<script th:src="@{/js/bootstrap-datetimepicker.min.js}"></script>
<script th:src="@{/js/dashboard-1.js}"></script>
<!-- Datatable -->
<script th:src="@{/js/jquery.dataTables.min.js}"></script>
<script th:src="@{/js/datatables.init.js}"></script>

<script th:src="@{/js/jquery.nice-select.min.js}"></script>

<script th:src="@{/js/custom.min.js}"></script>
<script th:src="@{/js/deznav-init.js}"></script>
<script th:src="@{/js/demo.js}"></script>
<script th:src="@{/js/styleSwitcher.js}"></script>
<script src="../assets/js/test.js"></script>
</body>
</html>